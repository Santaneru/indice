<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulación de Explosión Detallada</title>
    <style>
        #espacio {
            width: 400px;
            height: 400px;
            border: 1px solid #000;
            overflow: hidden;
            position: relative;
            background-color: #333;
            margin: 20px auto;
        }

        .particula {
            position: absolute;
            top: 50%;
            left: 50%;
            border-radius: 50%;
            opacity: 0;
            transform: translate(-50%, -50%);
        }

        @keyframes explosionAnimation {
            0% {
                opacity: 1;
            }
            100% {
                opacity: 0;
            }
        }
    </style>
</head>

<body>
    <div id="espacio"></div>
    <button onclick="simularExplosion()">Simular Explosión</button>

    <script>
        // Número total de partículas a generar
        const TOTAL_PARTICULAS = 100;

        function generarParticula() {
            const particula = document.createElement('div');
            const size = Math.random() * 10 + 5;
            particula.style.width = `${size}px`;
            particula.style.height = `${size}px`;
            particula.style.background = Math.random() > 0.5 ? '#FFD700' : '#FF4500';

            // Generar una animación con duración, dirección y desplazamiento aleatorios
            const duracion = Math.random() * 1 + 0.5;
            const desplazamientoX = (Math.random() - 0.5) * 400;
            const desplazamientoY = (Math.random() - 0.5) * 400;
            const animacion = `
                @keyframes movimiento${Math.random()} {
                    0% {
                        transform: translate(-50%, -50%);
                    }
                    100% {
                        transform: translate(${desplazamientoX - 50}%, ${desplazamientoY - 50}%);
                    }
                }
            `;
            const style = document.createElement('style');
            style.innerHTML = animacion;
            document.head.appendChild(style);

            particula.style.animation = `movimiento${Math.random()} ${duracion}s forwards, explosionAnimation ${duracion}s forwards`;
            return particula;
        }

        function simularExplosion() {
            const espacio = document.getElementById('espacio');
            // Limpiar cualquier explosión anterior
            espacio.innerHTML = '';

            // Crear y animar las partículas
            for (let i = 0; i < TOTAL_PARTICULAS; i++) {
                const particula = generarParticula();
                espacio.appendChild(particula);
            }
        }
    </script>
</body>
</html>
